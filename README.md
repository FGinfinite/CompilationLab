![img.png](imgs/img.png)

# 方法1：
这段语法分析程序基于自顶向下的递归下降分析方法来解析输入的算数表达式。其原理如下：

词法分析：首先，程序使用正则表达式来将输入的字符串分解成一系列词法单元（tokens），这些词法单元包括数字（NUM）、操作符（ADD、SUB、MUL、DIV）、左括号（LPAREN）、右括号（RPAREN）等。词法分析的目标是将输入字符串切分成一系列有意义的词法单元，以便进一步的语法分析。

语法分析：接下来，程序使用自顶向下的递归下降分析方法来解析词法单元序列，构建语法树。程序定义了三个递归函数来表示文法规则中的不同非终结符（E、T、F）：

parse_expression(tokens): 用于解析表达式。根据文法规则 E → E+T | E-T | T，它首先解析一个项（parse_term函数），然后根据操作符（+ 或 -）继续解析更多的项，递归构建表达式树。

parse_term(tokens): 用于解析项。根据文法规则 T → TF | T/F | F，它首先解析一个因子（parse_factor函数），然后根据操作符（ 或 /）继续解析更多的因子，递归构建项树。

parse_factor(tokens): 用于解析因子。根据文法规则 F → (E) | num，它处理了括号表达式和数字。

递归下降：在递归下降分析中，每个函数对应一个文法规则的非终结符，它们通过递归调用彼此来分析输入。当程序遇到左括号时，它会递归调用parse_expression函数以处理括号内的表达式。当程序遇到数字时，它会返回一个叶子节点，表示一个数字。

构建语法树：通过递归下降分析，程序构建了一个嵌套的元组树，其中每个元组表示一个操作符和它的两个操作数或一个数字。这棵语法树反映了输入表达式的结构，并且可以用于进一步的计算或处理。

错误处理：如果输入不符合文法规则，例如缺少右括号或遇到无法识别的字符，程序将引发错误。